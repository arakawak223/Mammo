# UI/UX 設計指針

---

## 1. 設計原則

### 1.1 高齢者側（ユーザーA）

| 原則 | 内容 |
|------|------|
| **操作ゼロを目指す** | 可能な限り自動化。操作が必要な場面でも1タップで完結 |
| **巨大で明確なUI** | 最小フォントサイズ 24sp、ボタンは画面幅の50%以上 |
| **色のコントラスト** | WCAG AAA準拠（コントラスト比 7:1 以上） |
| **音声フィードバック** | タップ時に音声で「送信しました」等を読み上げ |
| **画面数を最小化** | メイン画面1枚＋SOS画面1枚の実質2画面 |

### 1.2 家族側（ユーザーB）

| 原則 | 内容 |
|------|------|
| **ダッシュボード型** | 一目で親の安全状態を把握できる |
| **アクション指向** | 通知から2タップ以内で対策を実行（ブロック、通報等） |
| **情報の優先度** | 緊急度の高い情報を最上部に配置 |
| **マルチ管理** | 複数の親を管理するタブ切替 |

---

## 2. 高齢者側アプリ画面設計

### 2.1 メイン画面（ホーム）

```
┌──────────────────────────────┐
│  まもりトーク          🟢安心  │  ← ステータスバー（常時表示）
│                              │
│                              │
│                              │
│   ┌──────────────────────┐   │
│   │                      │   │
│   │                      │   │
│   │    これ 詐欺？       │   │  ← 巨大ボタン（画面の40%を占有）
│   │                      │   │     背景色：赤系グラデーション
│   │    長押しで家族に     │   │     角丸、影付き
│   │    連絡します         │   │     長押し0.5秒で発動
│   │                      │   │
│   │                      │   │
│   └──────────────────────┘   │
│                              │
│                              │
│  ┌────────────────────────┐  │
│  │  ⚡ SOS（緊急）        │  │  ← SOSボタン（目立つが誤タップ防止）
│  │     長押し3秒          │  │     長押し3秒で発動
│  └────────────────────────┘  │
│                              │
│  ──────────────────────────  │
│  📞 今日の着信: 3件（異常なし）│  ← 簡易ステータス（大きな文字）
│  ✅ 家族とつながっています    │
│                              │
└──────────────────────────────┘
```

**デザインルール:**
- 背景色: 白（#FFFFFF）
- テキスト: 黒（#1A1A1A）、最小24sp
- 「これ詐欺？」ボタン: 赤系（#E53935）、フォント36sp 太字
- SOSボタン: オレンジ（#FF6F00）、フォント28sp
- ステータス領域: グレー背景（#F5F5F5）、フォント20sp

### 2.2 AI音声アシスタント画面

```
┌──────────────────────────────┐
│                              │
│                              │
│       🎙                     │
│                              │
│  「今の電話、大丈夫           │  ← 大きな文字で質問表示
│    でしたか？」               │     同時にTTSで読み上げ
│                              │
│                              │
│   ┌────────────────────┐     │
│   │ ● 聞いています...   │     │  ← 音声認識中のインジケーター
│   └────────────────────┘     │     アニメーションで動的に
│                              │
│                              │
│  ┌────────────────────────┐  │
│  │  大丈夫です（閉じる）  │  │  ← 手動クローズボタン（大）
│  └────────────────────────┘  │
│                              │
└──────────────────────────────┘
```

### 2.3 SOS発動中画面

```
┌──────────────────────────────┐
│  ⚠️ 緊急モード              │  ← 赤背景、点滅
│                              │
│                              │
│  家族に緊急連絡               │
│  しました                    │  ← 超大文字（40sp）
│                              │
│  位置情報を共有中です         │  ← 20sp
│                              │
│  ┌────────────────────────┐  │
│  │  📞 110番に電話する    │  │  ← ワンタップで110に発信
│  └────────────────────────┘  │
│                              │
│  キャンセル [=====] 5秒      │  ← 発動直後のみ表示
│                              │
└──────────────────────────────┘
```

### 2.4 ウィジェット（ホーム画面常駐）

```
┌──────────────────────┐
│ まもりトーク    🟢    │
│ ┌──────┐ ┌────────┐ │
│ │詐欺？│ │  SOS   │ │
│ └──────┘ └────────┘ │
└──────────────────────┘
```

- 4x2サイズ（Android）/ Medium Widget（iOS）
- ボタン2つのみ。タップでアプリ内のアクションを即実行

---

## 3. 家族側アプリ画面設計

### 3.1 ダッシュボード（ホーム）

```
┌──────────────────────────────┐
│  まもりトーク  [父] [母] ⚙   │  ← タブで管理対象を切替
│                              │
│  ┌────────────────────────┐  │
│  │  🟢 お父さんは安心です  │  │  ← 安全状態カード
│  │  最終確認: 10分前       │  │     状態に応じて色変化
│  │  📍 自宅付近            │  │     (緑/黄/赤)
│  └────────────────────────┘  │
│                              │
│  ⚡ アラート（2件未対応）     │  ← セクションヘッダー
│  ┌────────────────────────┐  │
│  │ 🔴 15:32 不審な着信     │  │
│  │  +44-XXX-XXXX (英国)   │  │  ← アラートカード
│  │  [ブロック] [詳細]      │  │     タップで詳細へ
│  ├────────────────────────┤  │
│  │ 🟡 14:10 未登録番号SMS  │  │
│  │  「お届け物の件で...」  │  │
│  │  [安全] [詳細]          │  │
│  └────────────────────────┘  │
│                              │
│  📊 今週のサマリー            │
│  ├─ 不審着信: 3件            │
│  ├─ ブロック済み: 2件        │
│  └─ AI解析: 異常なし         │
│                              │
│  ━━━━━━━━━━━━━━━━━━━━━━━━  │
│  [🏠] [🔔] [🛡] [📊] [⚙]  │  ← ボトムナビゲーション
│  ホーム 通知  防御  統計 設定 │
└──────────────────────────────┘
```

### 3.2 アラート詳細画面

```
┌──────────────────────────────┐
│  ← 戻る     アラート詳細     │
│                              │
│  🔴 不審な着信               │
│  2026-02-18 15:32            │
│                              │
│  ┌────────────────────────┐  │
│  │ 発信元: +44-20-XXXX    │  │
│  │ 国: 英国 🇬🇧            │  │
│  │ 通話時間: 2分30秒       │  │
│  │ リスク: 高（国際番号）   │  │
│  └────────────────────────┘  │
│                              │
│  📝 AI解析結果               │
│  ┌────────────────────────┐  │
│  │ 危険度: ████████░░ 78%  │  │  ← スコアゲージ
│  │                        │  │
│  │ サマリー:               │  │
│  │ 「投資の勧誘と思われる  │  │
│  │  会話。高額リターンを   │  │
│  │  約束する典型的な...」  │  │
│  │                        │  │
│  │ 検出パターン:           │  │
│  │ ・投資詐欺              │  │
│  │                        │  │
│  │ 推奨: 着信拒否＋       │  │
│  │       警察相談(#9110)   │  │
│  └────────────────────────┘  │
│                              │
│  ┌─────────┐ ┌────────────┐ │
│  │ ブロック │ │ 安全マーク │ │
│  └─────────┘ └────────────┘ │
│  ┌────────────────────────┐  │
│  │  📞 #9110に相談する    │  │
│  └────────────────────────┘  │
│                              │
└──────────────────────────────┘
```

### 3.3 リモートブロック管理画面

```
┌──────────────────────────────┐
│  ← 戻る    着信拒否リスト     │
│                              │
│  [＋番号を追加]  [一括追加]   │
│                              │
│  手動追加 (3件)              │
│  ┌────────────────────────┐  │
│  │ +44-20-XXXX-XXXX       │  │
│  │ 追加: 田中花子 2/18     │  │
│  │              [解除]     │  │
│  ├────────────────────────┤  │
│  │ 050-XXXX-XXXX          │  │
│  │ 追加: 田中太郎 2/15     │  │
│  │              [解除]     │  │
│  ├────────────────────────┤  │
│  │ 非通知着信              │  │
│  │ 追加: 初期設定時        │  │
│  │              [解除]     │  │
│  └────────────────────────┘  │
│                              │
│  詐欺番号DB (128件) ✅同期済  │
│  ┌────────────────────────┐  │
│  │ 最終更新: 2/17          │  │
│  │ [更新を確認] [詳細]     │  │
│  └────────────────────────┘  │
│                              │
│  同期ステータス: ✅ 同期済み  │
│  最終同期: 2分前             │
│                              │
└──────────────────────────────┘
```

### 3.4 闇バイトチェッカー画面

```
┌──────────────────────────────┐
│  ← 戻る   闇バイトチェッカー  │
│                              │
│  気になる求人を貼り付けて     │
│  ください                    │
│                              │
│  ┌────────────────────────┐  │
│  │                        │  │
│  │ テキストを入力...       │  │  ← テキスト入力欄
│  │                        │  │
│  │                        │  │
│  └────────────────────────┘  │
│                              │
│  [📷 画像で判定]  [判定する]  │
│                              │
│  ━━━ 判定結果 ━━━━━━━━━━━━  │
│                              │
│  ⚠️ 警戒（危険度: 高）       │  ← リスク表示
│                              │
│  危険な要素:                 │
│  ・「日給5万円以上可能」      │
│    → 異常に高額な報酬        │
│  ・「テレグラムで連絡」      │
│    → 匿名通信ツールの使用    │
│  ・「荷物の受け取り」        │
│    → 受け子の可能性          │
│                              │
│  💡 これは「受け子」と呼ばれ  │
│  る特殊詐欺の実行犯を募集    │
│  している可能性があります。   │
│                              │
│  ┌────────────────────────┐  │
│  │  📞 #9110に相談する    │  │
│  └────────────────────────┘  │
│                              │
└──────────────────────────────┘
```

### 3.5 緊急SOS受信画面（フルスクリーンオーバーレイ）

```
┌──────────────────────────────┐
│                              │
│  🚨 緊急SOS 🚨              │  ← 赤背景、点滅
│                              │
│  お父さんが緊急SOSを         │
│  発信しました                │
│  18:45                       │
│                              │
│  モード: 🔇 サイレント       │  ← 現在のSOSモード表示
│  ┌─────────┐ ┌────────────┐ │
│  │🔇サイレント│ │🔊アラーム │ │  ← モード切替トグル
│  │  (選択中) │ │           │ │     即時切替可能
│  └─────────┘ └────────────┘ │
│                              │
│  ┌────────────────────────┐  │
│  │                        │  │
│  │    [地図表示]           │  │  ← リアルタイム地図
│  │    📍 現在地            │  │     ピンが移動
│  │    東京都○○区△△ 1-2-3  │  │
│  │                        │  │
│  └────────────────────────┘  │
│                              │
│  🔊 周囲の音声（ライブ）     │
│  [▶ ━━━━━━━━━━━━━━━━━ 🔈]  │  ← 音声ストリーミング
│                              │
│  🔋 バッテリー: 72%          │
│                              │
│  ┌─────────┐ ┌────────────┐ │
│  │📞 110番 │ │ 解除する   │ │  ← 解除は確認ダイアログ付き
│  └─────────┘ └────────────┘ │
│                              │
└──────────────────────────────┘
```

### 3.6 SOSモード事前設定画面（家族側・設定内）

```
┌──────────────────────────────┐
│  ← 戻る   緊急SOS設定        │
│                              │
│  お父さんのSOS動作モード     │
│                              │
│  ┌────────────────────────┐  │
│  │ 🔇 サイレントモード     │  │
│  │    （推奨・デフォルト）  │  │  ← 選択中は青枠
│  │                        │  │
│  │  犯人に気づかれずに     │  │
│  │  位置情報と周囲音声を   │  │
│  │  家族に送信します。     │  │
│  │  端末は無音のままです。 │  │
│  └────────────────────────┘  │
│                              │
│  ┌────────────────────────┐  │
│  │ 🔊 アラームモード       │  │
│  │                        │  │
│  │  防犯ブザーのように     │  │
│  │  大音量で周囲に         │  │
│  │  異常を知らせます。     │  │
│  │  同時に家族にも通知。   │  │
│  └────────────────────────┘  │
│                              │
│  ⚠️ SOS発動中でも家族側     │
│  からモードを即時切替        │
│  できます。                  │
│                              │
└──────────────────────────────┘
```

---

## 4. アクセシビリティ要件

### 高齢者側

| 項目 | 基準 |
|------|------|
| フォントサイズ | 最小 24sp、メインボタン 36sp |
| コントラスト比 | WCAG AAA (7:1) 以上 |
| タッチターゲット | 最小 56dp × 56dp（推奨 72dp） |
| 色覚多様性 | 色だけに依存しない（アイコン+テキスト併用） |
| 音声フィードバック | 全操作にTTS読み上げ対応 |
| 画面遷移 | アニメーションなし or 最小限 |
| OS拡大表示 | Dynamic Type / Font Scale に完全対応 |

### 家族側

| 項目 | 基準 |
|------|------|
| フォントサイズ | 最小 14sp |
| コントラスト比 | WCAG AA (4.5:1) 以上 |
| タッチターゲット | 最小 44dp × 44dp |
| ダークモード | 対応 |

---

## 5. カラーパレット

| 用途 | 色 | コード |
|------|-----|--------|
| 安全 | 緑 | #2E7D32 |
| 注意 | 黄 | #F9A825 |
| 警戒 | オレンジ | #E65100 |
| 危険 | 赤 | #C62828 |
| プライマリ | 紺 | #1565C0 |
| 背景（白） | 白 | #FFFFFF |
| 背景（グレー） | ライトグレー | #F5F5F5 |
| テキスト | ダークグレー | #1A1A1A |
| サブテキスト | ミディアムグレー | #757575 |

---

## 6. 初期セットアップフロー

### 高齢者端末の初期設定（家族が操作）

```
Step 1: 家族のスマホでアカウント作成
         ↓
Step 2: 家族のスマホで「高齢者を追加」→ 招待コード生成
         ↓
Step 3: 高齢者のスマホにアプリをインストール
         ↓
Step 4: 招待コードを入力（QRコード or 6桁コード）
         ↓
Step 5: 必要な権限を一括許可（家族が操作）
         ├─ 電話の権限
         ├─ SMS の権限
         ├─ 位置情報（常に許可）
         ├─ マイク
         ├─ 通知
         ├─ バックグラウンド実行
         └─ (Android) デフォルト電話アプリ設定
         ↓
Step 6: 着信拒否設定の有効化
         ├─ (Android) BlockedNumberContract 設定
         └─ (iOS) CallDirectory Extension 有効化
         ↓
Step 7: セットアップ完了。高齢者にはメイン画面のみ表示。
```

**要点**: ステップ3〜7はすべて家族が高齢者の端末を操作して行う。高齢者自身の操作は不要。
